<!DOCTYPE html>
<html lang="zh-Hans">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="Thinking in Different">
    

    <!--Author-->
    
        <meta name="author" content="Han Liu">
    

    <!-- Title -->
    
    <title>Learn Swift - Section 4th æ‰©å±•ã€åè®®ã€æ³›å‹ | å¯’æµâ€˜s Blog</title>

    <!-- Bootstrap Core CSS -->
    <link href="//cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css" type="text/css">

    <!-- Custom Fonts -->
    <link href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Noto+Serif:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

    <!-- Content -->
    <section class="article-container">
<!-- Back Home -->
<a class="nav-back" href="/">
    <i class="fa fa-puzzle-piece"></i>
</a>

<!-- Page Header -->
<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Learn Swift - Section 4th æ‰©å±•ã€åè®®ã€æ³›å‹</h1>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <!-- Post Main Content -->
            <div class="post-content col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <h2 id="extension">æ‰©å±• Extension</h2><br>æ‰©å±•<code>Extension</code>å°±æ˜¯å‘ä¸€ä¸ªå·²æœ‰çš„ç±»ã€ç»“æ„ä½“ã€æšä¸¾ç±»å‹æˆ–è€…åè®®ç±»å‹æ·»åŠ æ–°åŠŸèƒ½ï¼ˆfunctionalityï¼‰ã€‚è¿™åŒ…æ‹¬åœ¨æ²¡æœ‰æƒé™è·å–åŸå§‹æºä»£ç çš„æƒ…å†µä¸‹æ‰©å±•ç±»å‹çš„èƒ½åŠ›ï¼ˆå³é€†å‘å»ºæ¨¡ï¼‰ã€‚æ‰©å±•å’Œ Objective-C ä¸­çš„åˆ†ç±»ï¼ˆcategoriesï¼‰ç±»ä¼¼ã€‚ï¼ˆä¸è¿‡ä¸ Objective-C ä¸åŒçš„æ˜¯ï¼ŒSwift çš„æ‰©å±•æ²¡æœ‰åå­—ã€‚ï¼‰<br><br>Swift ä¸­çš„æ‰©å±•å¯ä»¥ï¼š<br>- æ·»åŠ è®¡ç®—å‹å±æ€§å’Œè®¡ç®—å‹é™æ€å±æ€§<br>- å®šä¹‰å®ä¾‹æ–¹æ³•å’Œç±»å‹æ–¹æ³•<br>- æä¾›æ–°çš„æ„é€ å™¨<br>- å®šä¹‰ä¸‹æ ‡<br>- å®šä¹‰å’Œä½¿ç”¨æ–°çš„åµŒå¥—ç±»å‹<br>- ä½¿ä¸€ä¸ªå·²æœ‰ç±»å‹ç¬¦åˆæŸä¸ªåè®®<br>- ä¹Ÿå¯ä»¥å¯¹ä¸€ä¸ªåè®®è¿›è¡Œæ‰©å±•<br><br><a id="more"></a><br><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Int</span></span>&#123;</span><br><span class="line">    <span class="comment">//è½¬æ¢æˆå°æ—¶</span></span><br><span class="line">    <span class="keyword">var</span> hours : <span class="type">Int</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>/<span class="number">3600</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> ago : <span class="type">Int</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="keyword">self</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//xä¹‹å‰çš„æ—¶é—´</span></span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">ago</span><span class="params">(x:Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span> - x</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> currentTime = <span class="number">7200</span></span><br><span class="line"><span class="number">3</span>.hours</span><br><span class="line"><span class="number">3</span>.hours.ago</span><br><span class="line"><span class="number">3</span>.ago + currentTime</span><br><span class="line"><span class="comment">//5ç§’ä¹‹å‰</span></span><br><span class="line">currentTime.ago(<span class="number">5</span>)</span><br><span class="line"><span class="comment">//1å°æ—¶ä¹‹å‰</span></span><br><span class="line">currentTime.hours.ago(<span class="number">1</span>)</span><br><span class="line">currentTime.hours.ago(<span class="number">3600</span>.hours)</span><br><span class="line"><span class="built_in">print</span>(<span class="number">3</span>.ago)</span><br></pre></td></tr></table></figure><br><br><h2 id="protocol">åè®® Protocol</h2><br>åè®®å®šä¹‰äº†ä¸€ä¸ªè“å›¾ï¼Œè§„å®šäº†ç”¨æ¥å®ç°æŸä¸€ç‰¹å®šå·¥ä½œæˆ–è€…åŠŸèƒ½æ‰€å¿…éœ€çš„æ–¹æ³•å’Œå±æ€§ã€‚ç±»ï¼Œç»“æ„ä½“æˆ–æšä¸¾ç±»å‹éƒ½å¯ä»¥éµå¾ªåè®®ï¼Œå¹¶æä¾›å…·ä½“å®ç°æ¥å®Œæˆåè®®å®šä¹‰çš„æ–¹æ³•å’ŒåŠŸèƒ½ã€‚ä»»æ„èƒ½å¤Ÿæ»¡è¶³åè®®è¦æ±‚çš„ç±»å‹è¢«ç§°ä¸ºéµå¾ª(conform)è¿™ä¸ªåè®®ã€‚<br><br>é™¤äº†éµå¾ªåè®®çš„ç±»å‹å¿…é¡»å®ç°é‚£äº›æŒ‡å®šçš„è§„å®šä»¥å¤–ï¼Œè¿˜å¯ä»¥å¯¹åè®®è¿›è¡Œæ‰©å±•ï¼Œå®ç°ä¸€äº›ç‰¹æ®Šçš„è§„å®šæˆ–è€…ä¸€äº›é™„åŠ çš„åŠŸèƒ½ï¼Œä½¿å¾—éµå¾ªçš„ç±»å‹èƒ½å¤Ÿæ”¶ç›Šã€‚<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">SellProducts</span></span>&#123;</span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">sellProducts</span><span class="params">(product:String)</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name:<span class="type">String</span></span><br><span class="line">    <span class="keyword">weak</span> <span class="keyword">var</span> delegate:<span class="type">Seller</span>?</span><br><span class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> someClosure:(<span class="type">Int</span>,<span class="type">String</span>)-&gt;<span class="type">String</span> = &#123;</span><br><span class="line">        <span class="comment">//åœ¨é—­åŒ…ä¸­å°†selfä¿®é¥°ä¸ºæ— ä¸»å¼•ç”¨ã€‚å°†delegate ä¿®é¥°ä¸º å¼±å¼•ç”¨</span></span><br><span class="line">        [<span class="keyword">unowned</span> <span class="keyword">self</span>,<span class="keyword">weak</span> delegate = <span class="keyword">self</span>.delegate!]<span class="comment">//æ•è·åˆ—è¡¨</span></span><br><span class="line">        (index:<span class="type">Int</span>,strToProcess:<span class="type">String</span>)-&gt;<span class="type">String</span> <span class="keyword">in</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"<span class="subst">\(<span class="keyword">self</span>.name)</span>,<span class="subst">\(<span class="keyword">self</span>.delegate)</span>,<span class="subst">\(delegate)</span>"</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">init</span>(name:<span class="type">String</span>,delegate:<span class="type">Seller</span>?)&#123;</span><br><span class="line">        <span class="keyword">self</span>.name = name;</span><br><span class="line">        <span class="keyword">self</span>.delegate = delegate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">giveSellerProducts</span><span class="params">(product:String )</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">self</span>.delegate?.sellProducts(product)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Seller</span> : <span class="title">SellProducts</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> product:<span class="type">String</span>?</span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">sellProducts</span><span class="params">( product: String)</span></span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.product = product</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> seller = <span class="type">Seller</span>()</span><br><span class="line"><span class="keyword">var</span> person = <span class="type">Person</span> (name: <span class="string">"Hanliu"</span>, delegate: seller)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆšå¼€å§‹selleræ˜¯æ²¡æœ‰å•†å“çš„ï¼Œè¦ç­‰åˆ°Personç»™seller</span></span><br><span class="line"><span class="built_in">print</span>(seller.product)</span><br><span class="line"><span class="comment">//personå‘Šè¯‰sellerï¼Œå¸®æˆ‘å–è‹¹æœ</span></span><br><span class="line">person.giveSellerProducts(<span class="string">"apple"</span>)</span><br><span class="line"><span class="comment">//ç°åœ¨selleræ‰‹ä¸­å°±æœ‰äº†å•†å“äº†</span></span><br><span class="line"><span class="built_in">print</span>(seller.product!)</span><br><span class="line"></span><br><span class="line">person.someClosure(<span class="number">1</span>,<span class="string">"haha"</span>)</span><br></pre></td></tr></table></figure><br><br>åè®®ä¸­çš„å±æ€§ä¸€å®šè¦æŒ‡æ˜è¯»å†™çŠ¶æ€<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">SomeProtocol</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> mustBeSettable:<span class="type">Int</span>&#123;<span class="keyword">get</span> <span class="keyword">set</span>&#125;<span class="comment">//è¡¨ç¤ºè¯¥å±æ€§æ˜¯å¯è¯»å¯å†™</span></span><br><span class="line">    <span class="keyword">var</span> notNeededForSetable:<span class="type">String</span>&#123;<span class="keyword">get</span>&#125;<span class="comment">//è¡¨ç¤ºåªè¯»</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> someTypedProperty:<span class="type">String</span>&#123;<span class="keyword">get</span> <span class="keyword">set</span>&#125;<span class="comment">//ç±»å±æ€§(å½“åè®®éµå¾ªè€…æ˜¯classæ˜¯ï¼Œå¯ä»¥ç”¨classå…³é”®å­—)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">FullyName</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> fullname:<span class="type">String</span>&#123;<span class="keyword">get</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">PersonName</span>:<span class="title">FullyName</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> fullname: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> shortName :<span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = <span class="type">PersonName</span>(fullname: <span class="string">"Levi John"</span>,shortName: <span class="string">"LJ"</span>)</span><br><span class="line">person.fullname</span><br></pre></td></tr></table></figure><br><br>åè®®æœ¬èº«å¹¶ä¸å®ç°ä»»ä½•åŠŸèƒ½ï¼Œä½†æ˜¯åè®®å¯ä»¥è¢«ä½œä¸ºç±»å‹ä½¿ç”¨ã€‚å°±æ˜¯ä¸Stringã€Intè¿™äº›ç±»å‹çš„ä½œç”¨ç›¸åŒã€‚<br>- ä½œä¸ºå‡½æ•°ã€æ–¹æ³•æˆ–æ„é€ å™¨ä¸­çš„å‚æ•°ç±»å‹æˆ–è¿”å›å€¼ç±»å‹<br>- ä½œä¸ºå¸¸é‡ã€å˜é‡æˆ–å±æ€§çš„ç±»å‹<br>- ä½œä¸ºæ•°ç»„ã€å­—å…¸æˆ–å…¶ä»–å®¹å™¨ä¸­çš„å…ƒç´ çš„ç±»å‹<br><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">RandomGenerator</span> </span>&#123;</span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">random</span><span class="params">()</span></span>-&gt;<span class="type">Double</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LinerGenerator</span>:<span class="title">RandomGenerator</span> </span>&#123;</span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">random</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">11.0011</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dice</span></span>&#123;</span><br><span class="line">    <span class="keyword">let</span> slides:<span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> generator:<span class="type">RandomGenerator</span><span class="comment">//ä½œä¸ºå±æ€§ç±»å‹</span></span><br><span class="line">    <span class="keyword">init</span>(slides:<span class="type">Int</span>,generator:<span class="type">RandomGenerator</span>)&#123;<span class="comment">//ä½œä¸ºå‚æ•°ç±»å‹</span></span><br><span class="line">        <span class="keyword">self</span>.slides = slides</span><br><span class="line">        <span class="keyword">self</span>.generator = generator</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="func"><span class="keyword">func</span> <span class="title">roll</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">Int</span>(<span class="keyword">self</span>.generator.random() * <span class="type">Double</span>(slides))+<span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><br>åœ¨æ‰©å±•ä¸­éµå¾ªåè®®ï¼Œå¢åŠ åè®®æˆå‘˜ï¼ˆè¿™ç§æ–¹æ³•ä¸ç›´æ¥åœ¨ç±»åé¢éµå¾ªåè®®çš„æ•ˆæœç›¸åŒï¼‰ã€‚<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TextRepresentable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> textDescription :<span class="type">String</span>&#123;<span class="keyword">get</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Dice</span>:<span class="title">TextRepresentable</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> textDescription:<span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"<span class="subst">\(slides)</span> - slides"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> dice = <span class="type">Dice</span>(slides: <span class="number">8</span>, generator: <span class="type">LinerGenerator</span>())</span><br><span class="line">dice.textDescription<span class="comment">//ç°åœ¨Diceçš„æ‰€æœ‰å®ä¾‹éƒ½å¯ä»¥ä½¿ç”¨textDescriptionå±æ€§äº†ã€‚</span></span><br></pre></td></tr></table></figure><br><br>åè®®ç±»å‹çš„é›†åˆ<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sir  = <span class="type">Dice</span>(slides: <span class="number">1</span>, generator: <span class="type">LinerGenerator</span>())</span><br><span class="line"><span class="keyword">let</span> sime = <span class="type">Dice</span>(slides: <span class="number">2</span>, generator: <span class="type">LinerGenerator</span>())</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arrayOfProtocolElements:[<span class="type">TextRepresentable</span>] = [dice,sir,sime]</span><br><span class="line"><span class="keyword">for</span> element <span class="keyword">in</span> arrayOfProtocolElements&#123;</span><br><span class="line">    <span class="built_in">print</span>(element.textDescription)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><br>åè®®èƒ½å¤Ÿç»§æ‰¿.<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">TextGo</span>:<span class="title">TextRepresentable</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> prettyTextDescription:<span class="type">String</span>&#123;<span class="keyword">get</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Dice</span>:<span class="title">TextGo</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> prettyTextDescription:<span class="type">String</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> textDescription + <span class="string">"hello"</span><span class="comment">//å¯ä»¥ä½¿ç”¨ä¸Šå±‚åè®®çš„å±æ€§</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><br>ç±»ä¸“å±åè®®.åœ¨åè®®ç»§æ‰¿åˆ—è¡¨ä¸­çš„é¦–ä½æ·»åŠ classå…³é”®å­—,ç„¶åè¿™ä¸ªåè®®å°±åªèƒ½è¢«ç±»éµå¾ªï¼Œè€Œä¸èƒ½è¢«ç»“æ„ä½“æˆ–è€…æšä¸¾éµå¾ªã€‚<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">ClassOnlyProtocol</span>:<span class="title">class</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> mylove:<span class="type">String</span>&#123;<span class="keyword">get</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><br>æ£€æŸ¥åè®®ä¸€è‡´æ€§<br>ä½¿ç”¨<code>is</code>ã€<code>as?</code>ã€<code>as!</code><br><br>åè®®æœ¬èº«ä¹Ÿå¯ä»¥è¢«æ‰©å±•<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">TextRepresentable</span></span>&#123;<span class="comment">//TextRepresentableæ˜¯ä¸ªåè®®</span></span><br><span class="line">    <span class="keyword">var</span> longTextDescription:<span class="type">String</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"<span class="subst">\(textDescription)</span> + long"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><br>ä¸ºåè®®æ‰©å±•æ·»åŠ é™åˆ¶æ¡ä»¶ where<br>æ‰©å±•<code>CollectionType</code>åè®®ï¼Œè®©å…¶éµå¾ªè€…çš„å…ƒç´ å¿…é¡»éµå¾ª<code>TextRepresentable</code>åè®®<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">CollectionType</span> <span class="title">where</span> <span class="title">Generator</span>.<span class="title">Element</span>:<span class="title">TextRepresentable</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> textDescription:<span class="type">String</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> items = <span class="keyword">self</span>.<span class="built_in">map</span>&#123;$<span class="number">0</span>.textDescription&#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"A hamster named <span class="subst">\(items)</span>"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Hamster</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> textDescription: <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"a hamster named <span class="subst">\(name)</span>"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Hamster</span>: <span class="title">TextRepresentable</span> </span>&#123;&#125;<span class="comment">//è®©Hamsteréµå¾ªTextRepresentableåè®®</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> murrayTheHamster = <span class="type">Hamster</span>(name: <span class="string">"Murray"</span>)</span><br><span class="line"><span class="keyword">let</span> morganTheHamster = <span class="type">Hamster</span>(name: <span class="string">"Morgan"</span>)</span><br><span class="line"><span class="keyword">let</span> mauriceTheHamster = <span class="type">Hamster</span>(name: <span class="string">"Maurice"</span>)</span><br><span class="line"><span class="keyword">let</span> hamsters = [murrayTheHamster, morganTheHamster, mauriceTheHamster]</span><br><span class="line"></span><br><span class="line">å› ä¸º<span class="type">Array</span>éµå¾ªäº†`<span class="type">CollectionType</span>`åè®®ï¼Œè€Œhamsteråˆéµå¾ªäº†`<span class="type">TextRepresentable</span>`åè®®ï¼Œæ‰€ä»¥å°±æ»¡è¶³äº†æ¡ä»¶ï¼Œæ­¤æ—¶ arrayå¯ä»¥ä½¿ç”¨`textDescription`å±æ€§</span><br><span class="line"><span class="built_in">print</span>(hamsters.textDescription)</span><br><span class="line"></span><br><span class="line">ç»“æœï¼š<span class="type">A</span> hamster named [<span class="string">"a hamster named Murray"</span>, <span class="string">"a hamster named Morgan"</span>, <span class="string">"a hamster named Maurice"</span>]</span><br></pre></td></tr></table></figure><br><br><h2 id="Generics">æ³›å‹ Generics</h2>

<p>æ³›å‹ä»£ç å¯ä»¥è®©ä½ å†™å‡ºæ ¹æ®è‡ªæˆ‘éœ€æ±‚å®šä¹‰ã€é€‚ç”¨äºä»»ä½•ç±»å‹çš„ï¼Œçµæ´»ä¸”å¯é‡ç”¨çš„å‡½æ•°å’Œç±»å‹ã€‚å®ƒçš„å¯ä»¥è®©ä½ é¿å…é‡å¤çš„ä»£ç ï¼Œç”¨ä¸€ç§æ¸…æ™°å’ŒæŠ½è±¡çš„æ–¹å¼æ¥è¡¨è¾¾ä»£ç çš„æ„å›¾ã€‚</p>
<p>æ³›å‹æ˜¯ Swift å¼ºå¤§ç‰¹å¾ä¸­çš„å…¶ä¸­ä¸€ä¸ªï¼Œè®¸å¤š Swift æ ‡å‡†åº“æ˜¯é€šè¿‡æ³›å‹ä»£ç æ„å»ºå‡ºæ¥çš„ã€‚äº‹å®ä¸Šï¼Œæ³›å‹çš„ä½¿ç”¨è´¯ç©¿äº†æ•´æœ¬è¯­è¨€æ‰‹å†Œï¼Œåªæ˜¯ä½ æ²¡æœ‰å‘ç°è€Œå·²ã€‚ä¾‹å¦‚ï¼ŒSwift çš„æ•°ç»„å’Œå­—å…¸ç±»å‹éƒ½æ˜¯æ³›å‹é›†ã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªIntæ•°ç»„ï¼Œä¹Ÿå¯åˆ›å»ºä¸€ä¸ªStringæ•°ç»„ï¼Œæˆ–è€…ç”šè‡³äºå¯ä»¥æ˜¯ä»»ä½•å…¶ä»– Swift çš„ç±»å‹æ•°æ®æ•°ç»„ã€‚åŒæ ·çš„ï¼Œä½ ä¹Ÿå¯ä»¥åˆ›å»ºå­˜å‚¨ä»»ä½•æŒ‡å®šç±»å‹çš„å­—å…¸ï¼ˆdictionaryï¼‰ï¼Œè€Œä¸”è¿™äº›ç±»å‹å¯ä»¥æ˜¯æ²¡æœ‰é™åˆ¶çš„</p>
<p></p><h3 id="func">æ³›å‹å‡½æ•°</h3><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="func"><span class="keyword">func</span> <span class="title">swapTwoValues</span><span class="generics">&lt;T&gt;</span><span class="params">(<span class="keyword">inout</span> a:T,<span class="keyword">inout</span> b:T)</span></span>&#123;</span><br><span class="line">    <span class="keyword">let</span> tempValue = a</span><br><span class="line">    a = b</span><br><span class="line">    b = tempValue</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p>
<ul>
<li>T è¡¨ç¤ºä¸€ä¸ªå ä½å‘½åç±»å‹</li>
<li>å°–æ‹¬å·<t>è¡¨ç¤ºå®ƒé‡Œé¢çš„Tæ˜¯ç”±å‡½æ•°<code>swapTwoValues</code>å®šä¹‰çš„ä¸€ä¸ªç±»å‹ï¼Œswiftä¸ä¼šå»æŸ¥æ‰¾å‘½åä¸ºTçš„å®é™…ç±»å‹</t></li>
<li>å‚æ•°åˆ—è¡¨ä¸­çš„Tæ²¡æœ‰å®é™…ç±»å‹ï¼Œä»…è¡¨ç¤ºä¸¤ä¸ªå‚æ•°çš„ç±»å‹éœ€è¦ç›¸åŒ</li>
</ul>
<p></p><h3 id="generic stack">å®ç°ä¸€ä¸ªæ³›å‹ç‰ˆæœ¬çš„æ ˆ</h3><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Stack</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> items = [<span class="type">T</span>]()</span><br><span class="line">    <span class="keyword">mutating</span> <span class="func"><span class="keyword">func</span> <span class="title">push</span><span class="params">(item:T)</span></span>&#123;</span><br><span class="line">        items.append(item)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">mutating</span> <span class="func"><span class="keyword">func</span> <span class="title">pop</span><span class="params">()</span></span>&#123;</span><br><span class="line">        items.removeLast()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ³›å‹å®ä¾‹çš„åˆ›å»º,éƒ½å¿…é¡»æŒ‡å®šTçš„ç±»å‹</span></span><br><span class="line"><span class="keyword">var</span> stack = <span class="type">Stack</span>(items: [<span class="string">""</span>])</span><br><span class="line"><span class="keyword">var</span> stack2 = <span class="type">Stack</span>&lt;<span class="type">String</span>&gt;()</span><br></pre></td></tr></table></figure><p></p>
<p>//æ‰©å±•ä¸€ä¸ªæ³›å‹ç±»å‹:æ·»åŠ ä¸€ä¸ªå±æ€§<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Stack</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> topItem:<span class="type">T</span>?&#123;</span><br><span class="line">        <span class="keyword">return</span> items.isEmpty ? <span class="literal">nil</span> : items[items.<span class="built_in">count</span> - <span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">stack2.topItem</span><br></pre></td></tr></table></figure></p>
<p></p><h3 id="associated type">å…³è”ç±»å‹ï¼ˆAssociated Typeï¼‰ </h3><br>swift2.2è²Œä¼¼ä¿®æ”¹äº†ã€‚å£°æ˜çš„æ—¶å€™ç”¨associatedtype å®ç°çš„æ—¶å€™ç”¨typealias<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Container</span></span>&#123;</span><br><span class="line">    associatedtype <span class="type">ItemType</span></span><br><span class="line">    <span class="keyword">var</span> <span class="built_in">count</span>:<span class="type">Int</span>&#123;<span class="keyword">get</span>&#125;</span><br><span class="line">    <span class="keyword">mutating</span> <span class="func"><span class="keyword">func</span> <span class="title">append</span><span class="params">(item:ItemType)</span></span></span><br><span class="line">    <span class="keyword">subscript</span> (i:<span class="type">Int</span>)-&gt;<span class="type">ItemType</span>&#123;<span class="keyword">get</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®©æ³›å‹Stackéµå¾ªContaineråè®®</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Stack</span>:<span class="title">Container</span></span>&#123;</span><br><span class="line">    <span class="comment">//typealias ItemType = T //è¿™ä¸€è¡Œä¹Ÿæ˜¯å¯ä»¥å»æ‰ï¼Œå› ä¸ºswifté€šè¿‡ç±»å‹æ¨æ–­å¯ä»¥åˆ¤æ–­å‡ºTçš„ç±»å‹</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="func"><span class="keyword">func</span> <span class="title">append</span><span class="params">(item: T)</span></span> &#123;</span><br><span class="line">        <span class="keyword">return</span>  <span class="keyword">self</span>.push(item)<span class="comment">//æˆ–è€…ï¼šitems.append(item)</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> <span class="built_in">count</span>:<span class="type">Int</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> items.<span class="built_in">count</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">subscript</span>(i:<span class="type">Int</span>)-&gt;<span class="type">T</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> items[i]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p>

 
                <!-- Meta -->
                <div class="post-meta">
                    <hr>
                    <br>
                    <div class="post-tags">
                        
                            

<a href="/tags/LearnSwift/">#LearnSwift</a>


                        
                    </div>
                    <div class="post-date">
                        2016 å¹´ 04 æœˆ 28 æ—¥
                    </div>
                </div>
            </div>

            <!-- Comments -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- Disqus Comments -->

<div id="disqus_thread" class="comment"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES * * */
  var disqus_shortname = 'hanangellove';

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


            </div>
        </div>
    </div>
</article>
</section>

    <!-- Scripts -->
    <!-- jQuery -->
<script src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script>
<!-- Bootstrap -->
<script src="//cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<script type="text/javascript">
	console.log('Hexo-theme-hollow designed by zchen9 ğŸ™‹ Â© 2015-' + (new Date()).getFullYear());
</script>

    <!-- Google Analytics -->
    

</body>

</html>